<template>
  <div class="footer-navbar">
    <a href="https://cs.tongji.edu.cn/" target="_blank">
      <img src="../assets/LogosAndIcons/Tongji.png"
           alt="TongjiLogo"
           class="footer-logo"
           height="40"/>
    </a>

    <a href="https://github.com/mdsxf1029/Sports-reservation-frontend" target="_blank">
      <img src="../assets/LogosAndIcons/GitHub.png"
           alt="GithubLogo"
           class="footer-logo"
           height="40"/>
    </a>

    <div class='footer-content'>
        <el-link :underline='false' class='footer-link' @click='showAboutUs=true'>å…³äºæˆ‘ä»¬</el-link>
        <span class="separator">|</span>
        <el-link :underline="false" class="footer-link" @click="showPrivacyPolicy = true">éšç§æ”¿ç­–</el-link>
        <span class="separator">|</span>
        <el-link :underline="false" class="footer-link" @click="showDisclaimer = true">å…è´£å£°æ˜</el-link>
        <span class="separator">|</span>
        <el-link :underline="false" class="footer-link" @click="showCodeOfConduct = true">è¡Œä¸ºå‡†åˆ™</el-link>
        <span class="separator">|</span>
        <el-link :underline="false" class="footer-link" @click="showContactUs = true">è”ç³»æˆ‘ä»¬</el-link>
        <span class="separator">|</span>
        <el-link :underline="false" class="footer-link" @click="showFeedback = true">åé¦ˆ</el-link>
    </div>
  </div>

  <!-- å…³äºæˆ‘ä»¬å¯¹è¯æ¡† -->
  <el-dialog
    v-model="showAboutUs"
    title="å…³äºæˆ‘ä»¬"
    width="500px"
    center
  >
    <div class="dialog-content">
      <h3>è¿åŠ¨åœºé¦†é¢„çº¦å¹³å°</h3>
      <p>æˆ‘ä»¬è‡´åŠ›äºä¸ºç”¨æˆ·æä¾›ä¾¿æ·ã€é«˜æ•ˆçš„è¿åŠ¨åœºé¦†é¢„çº¦æœåŠ¡ã€‚</p>
      
      <h4>æˆ‘ä»¬çš„ä½¿å‘½</h4>
      <p>è®©æ¯ä¸ªäººéƒ½èƒ½è½»æ¾æ‰¾åˆ°å¹¶é¢„çº¦å¿ƒä»ªçš„è¿åŠ¨åœºåœ°ï¼Œäº«å—å¥åº·å¿«ä¹çš„è¿åŠ¨æ—¶å…‰ã€‚</p>
      
      <h4>æ ¸å¿ƒåŠŸèƒ½</h4>
      <ul>
        <li>ğŸŸï¸ å¤šæ ·åŒ–åœºé¦†é€‰æ‹©ï¼šç¯®çƒã€ç¾½æ¯›çƒã€ä¹’ä¹“çƒã€å¥èº«æˆ¿ç­‰</li>
        <li>ğŸ“… å®æ—¶é¢„çº¦ç³»ç»Ÿï¼šæŸ¥çœ‹åœºåœ°å¯ç”¨æ—¶é—´ï¼Œå³æ—¶é¢„çº¦</li>
        <li>ğŸ‘¥ ç¤¾åŒºäº’åŠ¨ï¼šä¸å…¶ä»–è¿åŠ¨çˆ±å¥½è€…äº¤æµåˆ†äº«</li>
        <li>ğŸ’° ç§¯åˆ†å¥–åŠ±ï¼šé¢„çº¦ä½¿ç”¨è·å¾—ç§¯åˆ†ï¼Œå…‘æ¢ä¼˜æƒ </li>
      </ul>
      
      <h4>å¼€å‘å›¢é˜Ÿ</h4>
      <p>åŒæµå¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢å­¦ç”Ÿå›¢é˜Ÿå€¾åŠ›æ‰“é€ ã€‚</p>
    </div>
  </el-dialog>

  <!-- éšç§æ”¿ç­–å¯¹è¯æ¡† -->
  <el-dialog
    v-model="showPrivacyPolicy"
    title="éšç§æ”¿ç­–"
    width="600px"
    center
  >
    <div class="dialog-content">
      <h4>ä¿¡æ¯æ”¶é›†</h4>
      <p>æˆ‘ä»¬ä»…æ”¶é›†ä¸ºæ‚¨æä¾›æœåŠ¡æ‰€å¿…éœ€çš„ä¿¡æ¯ï¼š</p>
      <ul>
        <li>æ³¨å†Œä¿¡æ¯ï¼šé‚®ç®±ã€ç”¨æˆ·åç­‰åŸºæœ¬ä¿¡æ¯</li>
        <li>é¢„çº¦ä¿¡æ¯ï¼šåœºåœ°é¢„çº¦è®°å½•ã€ä½¿ç”¨æƒ…å†µ</li>
        <li>ä½¿ç”¨æ•°æ®ï¼šç™»å½•æ—¶é—´ã€åŠŸèƒ½ä½¿ç”¨é¢‘ç‡ï¼ˆåŒ¿åç»Ÿè®¡ï¼‰</li>
      </ul>
      
      <h4>ä¿¡æ¯ä½¿ç”¨</h4>
      <p>æ‚¨çš„ä¿¡æ¯ä»…ç”¨äºï¼š</p>
      <ul>
        <li>âœ… æä¾›é¢„çº¦æœåŠ¡å’Œè´¦æˆ·ç®¡ç†</li>
        <li>âœ… æ”¹å–„å¹³å°åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒ</li>
        <li>âœ… å‘é€é‡è¦é€šçŸ¥å’ŒæœåŠ¡æ›´æ–°</li>
        <li>âŒ ç»ä¸å‡ºå”®æˆ–å…±äº«ç»™ç¬¬ä¸‰æ–¹</li>
      </ul>
      
      <h4>æ•°æ®å®‰å…¨</h4>
      <p>æˆ‘ä»¬é‡‡ç”¨è¡Œä¸šæ ‡å‡†çš„å®‰å…¨æªæ–½ä¿æŠ¤æ‚¨çš„æ•°æ®ï¼ŒåŒ…æ‹¬åŠ å¯†å­˜å‚¨ã€å®‰å…¨ä¼ è¾“ç­‰ã€‚</p>
    </div>
  </el-dialog>

  <!-- å…è´£å£°æ˜å¯¹è¯æ¡† -->
  <el-dialog
    v-model="showDisclaimer"
    title="å…è´£å£°æ˜"
    width="550px"
    center
  >
    <div class="dialog-content">
      <h4>æœåŠ¡è¯´æ˜</h4>
      <p>æœ¬å¹³å°ä¸ºåœºé¦†é¢„çº¦ä¿¡æ¯æœåŠ¡å¹³å°ï¼Œæˆ‘ä»¬åŠªåŠ›ç¡®ä¿ä¿¡æ¯å‡†ç¡®ï¼Œä½†ä¸ä¿è¯ï¼š</p>
      <ul>
        <li>åœºé¦†ä¿¡æ¯çš„ç»å¯¹å‡†ç¡®æ€§å’Œå®æ—¶æ€§</li>
        <li>æœåŠ¡çš„ä¸é—´æ–­æ€§å’Œå®Œå…¨å¯é æ€§</li>
        <li>é¢„çº¦æˆåŠŸååœºé¦†æ–¹é¢çš„æœåŠ¡è´¨é‡</li>
      </ul>
      
      <h4>ç”¨æˆ·è´£ä»»</h4>
      <p>ç”¨æˆ·åœ¨ä½¿ç”¨æœ¬å¹³å°æ—¶éœ€è¦ï¼š</p>
      <ul>
        <li>âœ… æä¾›çœŸå®ã€å‡†ç¡®çš„ä¸ªäººä¿¡æ¯</li>
        <li>âœ… éµå®ˆåœºé¦†è§„å®šå’Œé¢„çº¦æ—¶é—´</li>
        <li>âœ… æ–‡æ˜ä½¿ç”¨å¹³å°åŠŸèƒ½</li>
        <li>âŒ ä¸å¾—æ¶æ„é¢„çº¦æˆ–æ‰°ä¹±ç§©åº</li>
      </ul>
      
      <h4>è´£ä»»é™åˆ¶</h4>
      <p>å¯¹äºå› ä½¿ç”¨æœ¬å¹³å°è€Œäº§ç”Ÿçš„ä»»ä½•ç›´æ¥æˆ–é—´æ¥æŸå¤±ï¼Œæœ¬å¹³å°ä¸æ‰¿æ‹…è´£ä»»ã€‚å¦‚é‡çº çº·ï¼Œè¯·å…ˆä¸åœºé¦†æ–¹åå•†è§£å†³ã€‚</p>
    </div>
  </el-dialog>

  <!-- è¡Œä¸ºå‡†åˆ™å¯¹è¯æ¡† -->
  <el-dialog
    v-model="showCodeOfConduct"
    title="è¡Œä¸ºå‡†åˆ™"
    width="520px"
    center
  >
    <div class="dialog-content">
      <h4>ğŸ… åšä¸€ä¸ªæ–‡æ˜çš„è¿åŠ¨è€…</h4>
      
      <h4>é¢„çº¦è§„èŒƒ</h4>
      <ul>
        <li>ğŸ¯ æŒ‰æ—¶åˆ°åœºï¼Œå¦‚éœ€å–æ¶ˆè¯·æå‰æ“ä½œ</li>
        <li>ğŸ¯ ä¸€äººä¸€çº¦ï¼Œä¸å¾—ä»£ä»–äººå¤§é‡é¢„çº¦</li>
        <li>ğŸ¯ çˆ±æŠ¤åœºåœ°è®¾æ–½ï¼Œä¿æŒç¯å¢ƒæ•´æ´</li>
        <li>ğŸ¯ éµå®ˆåœºé¦†å¼€æ”¾æ—¶é—´å’Œä½¿ç”¨è§„å®š</li>
      </ul>
      
      <h4>ç¤¾åŒºäº’åŠ¨</h4>
      <ul>
        <li>ğŸ’¬ å‹å–„äº¤æµï¼Œäº’ç›¸å°Šé‡</li>
        <li>ğŸ’¬ åˆ†äº«çœŸå®çš„è¿åŠ¨ä½“éªŒ</li>
        <li>ğŸ’¬ ä¸å‘å¸ƒå¹¿å‘Šã€åƒåœ¾ä¿¡æ¯</li>
        <li>ğŸ’¬ ç»´æŠ¤ç§¯æå‘ä¸Šçš„ç¤¾åŒºæ°›å›´</li>
      </ul>
      
      <h4>è¿è§„å¤„ç†</h4>
      <p>è¿åè¡Œä¸ºå‡†åˆ™çš„ç”¨æˆ·å¯èƒ½é¢ä¸´ï¼š</p>
      <ul>
        <li>âš ï¸ è­¦å‘Šæé†’</li>
        <li>âš ï¸ é™åˆ¶é¢„çº¦åŠŸèƒ½</li>
        <li>âš ï¸ æš‚åœè´¦æˆ·ä½¿ç”¨</li>
        <li>âš ï¸ ä¸¥é‡è¿è§„å°†æ°¸ä¹…å°ç¦</li>
      </ul>
    </div>
  </el-dialog>

  <!-- è”ç³»æˆ‘ä»¬å¯¹è¯æ¡† -->
  <el-dialog
    v-model="showContactUs"
    title="è”ç³»æˆ‘ä»¬"
    width="450px"
    center
  >
    <div class="dialog-content">
      <h4>ğŸ“ å¤šç§è”ç³»æ–¹å¼</h4>
      
      <div class="contact-item">
        <h4>ğŸ“ å¼€å‘å›¢é˜Ÿ</h4>
        <p>åŒæµå¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢</p>
      </div>
      
      <div class="contact-item">
        <h4>ğŸ“§ é‚®ä»¶è”ç³»</h4>
        <p>æŠ€æœ¯æ”¯æŒï¼šsupport@tongji-sports.cn</p>
        <p>å•†åŠ¡åˆä½œï¼šbusiness@tongji-sports.cn</p>
      </div>
      
      <div class="contact-item">
        <h4>ğŸ• å·¥ä½œæ—¶é—´</h4>
        <p>å‘¨ä¸€è‡³å‘¨äº”ï¼š9:00 - 18:00</p>
        <p>å‘¨æœ«ï¼š10:00 - 16:00</p>
      </div>
      
      <div class="contact-item">
        <h4>ğŸ  åœ°å€</h4>
        <p>ä¸Šæµ·å¸‚æ¨æµ¦åŒºå››å¹³è·¯1239å·</p>
        <p>åŒæµå¤§å­¦å˜‰å®šæ ¡åŒº</p>
      </div>
      
      <div class="contact-item">
        <h4>ğŸ”— åœ¨çº¿æ”¯æŒ</h4>
        <p>GitHub Issues: æŠ¥å‘ŠæŠ€æœ¯é—®é¢˜</p>
        <p>ç”¨æˆ·åé¦ˆ: ä½¿ç”¨å¹³å°å†…åé¦ˆåŠŸèƒ½</p>
      </div>
    </div>
  </el-dialog>

  <!-- åé¦ˆå¯¹è¯æ¡† -->
  <el-dialog
    v-model="showFeedback"
    title="ç”¨æˆ·åé¦ˆ"
    width="500px"
    center
  >
    <div class="dialog-content">
      <h4>ğŸ’¡ æ‚¨çš„å»ºè®®å¾ˆé‡è¦</h4>
      <p>å¸®åŠ©æˆ‘ä»¬æ”¹è¿›å¹³å°ï¼Œä¸ºæ‚¨æä¾›æ›´å¥½çš„æœåŠ¡ï¼</p>
      
      <el-form :model="feedbackForm" label-width="80px">
        <el-form-item label="åé¦ˆç±»å‹">
          <el-select v-model="feedbackForm.type" placeholder="è¯·é€‰æ‹©åé¦ˆç±»å‹">
            <el-option label="åŠŸèƒ½å»ºè®®" value="suggestion"></el-option>
            <el-option label="é—®é¢˜æŠ¥å‘Š" value="bug"></el-option>
            <el-option label="ä½¿ç”¨ä½“éªŒ" value="experience"></el-option>
            <el-option label="å…¶ä»–" value="other"></el-option>
          </el-select>
        </el-form-item>
        
        <el-form-item label="è¯¦ç»†æè¿°">
          <el-input
            v-model="feedbackForm.content"
            type="textarea"
            :rows="4"
            placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„åé¦ˆå†…å®¹..."
            maxlength="500"
            show-word-limit
          ></el-input>
        </el-form-item>
        
        <el-form-item label="è”ç³»æ–¹å¼">
          <el-input
            v-model="feedbackForm.contact"
            placeholder="é‚®ç®±æˆ–æ‰‹æœºå·ï¼ˆé€‰å¡«ï¼Œä¾¿äºæˆ‘ä»¬å›å¤æ‚¨ï¼‰"
          ></el-input>
        </el-form-item>
      </el-form>
      
      <div class="feedback-tips">
        <h4>ğŸ’­ å¸¸è§åé¦ˆç±»å‹</h4>
        <ul>
          <li>ğŸ”§ åŠŸèƒ½ä¼˜åŒ–å»ºè®®</li>
          <li>ğŸ› å‘ç°çš„é—®é¢˜æˆ–Bug</li>
          <li>ğŸ¨ ç•Œé¢è®¾è®¡æ”¹è¿›</li>
          <li>ğŸ“± ç§»åŠ¨ç«¯ä½“éªŒ</li>
          <li>âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®</li>
        </ul>
      </div>
    </div>
    
    <template #footer>
      <span class="dialog-footer">
        <el-button @click="showFeedback = false">å–æ¶ˆ</el-button>
        <el-button type="primary" @click="submitFeedback">æäº¤åé¦ˆ</el-button>
      </span>
    </template>
  </el-dialog>

  <el-dialog>

  </el-dialog>
</template>

<script setup>
import {ref} from 'vue'
import { ElMessage } from 'element-plus'

// å¯¹è¯æ¡†æ˜¾ç¤ºçŠ¶æ€
const showAboutUs = ref(false)
const showPrivacyPolicy = ref(false)
const showDisclaimer = ref(false)
const showCodeOfConduct = ref(false)
const showContactUs = ref(false)
const showFeedback = ref(false)

// åé¦ˆè¡¨å•æ•°æ®
const feedbackForm = ref({
  type: '',
  content: '',
  contact: ''
})

// æäº¤åé¦ˆ
const submitFeedback = () => {
  if (!feedbackForm.value.type || !feedbackForm.value.content) {
    ElMessage.warning('è¯·å¡«å†™åé¦ˆç±»å‹å’Œè¯¦ç»†æè¿°')
    return
  }
  
  // è¿™é‡Œå¯ä»¥è°ƒç”¨APIæäº¤åé¦ˆ
  console.log('åé¦ˆå†…å®¹:', feedbackForm.value)
  
  ElMessage.success('åé¦ˆæäº¤æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„å®è´µå»ºè®®')
  
  // é‡ç½®è¡¨å•å¹¶å…³é—­å¯¹è¯æ¡†
  feedbackForm.value = {
    type: '',
    content: '',
    contact: ''
  }
  showFeedback.value = false
}
</script>

<style scoped>
.footer-navbar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: 70px;
  background: #ffffff;
  border-top: 1px solid #e9ecef;
  padding: 0 20px;
  box-sizing: border-box;
  z-index: 1000;
  
  /* æ”¹ä¸ºå±…ä¸­å¯¹é½æ ·å¼ */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  
  /* ç¡®ä¿æ‰€æœ‰å­å…ƒç´ å‚ç›´å±…ä¸­ */
  line-height: 1;
  
  /* é˜´å½±æ•ˆæœ */
  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.05);
}

.footer-logo {
  margin-right: 15px;
  transition: opacity 0.2s;
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
}

.footer-logo:hover {
  opacity: 0.8;
}

.footer-logo img {
  vertical-align: middle;
}

.footer-navbar .footer-content {
  font-size: 16px;
  text-align: center;
  display: flex;
  align-items: center;
  height: 100%;
  width: auto;
  max-width: none;
  margin: 0;
  padding: 0;
  gap: 0;
}

.footer-navbar .footer-content p {
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 4px;
  line-height: 1;
  height: 100%;
}

.footer-navbar .footer-link {
  font-size: 16px;
  color: #666;
  transition: color 0.2s;
  display: inline-flex;
  align-items: center;
  line-height: 1;
  padding: 0;
  margin: 0;
}

.footer-navbar .footer-link:hover {
  color: #2062ea;
}

.footer-navbar .separator {
  color: #999;
  user-select: none;
  margin: 0 10px;
  display: inline-flex;
  align-items: center;
  line-height: 1;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .footer-navbar {
    justify-content: center;
    flex-direction: row;
    height: 70px;
    padding: 0 15px;
    gap: 10px;
  }
  
  .footer-logo {
    margin-right: 10px;
  }
  
  .footer-content p {
    justify-content: center;
    flex-direction: row;
    gap: 8px;
  }
  
  .separator {
    display: inline-flex;
  }
  
  .footer-link {
    font-size: 14px;
  }
}

/* å¯¹è¯æ¡†å†…å®¹æ ·å¼ */
.dialog-content {
  line-height: 1.6;
  color: #333;
}

.dialog-content h3 {
  color: #2062ea;
  margin-bottom: 15px;
  font-size: 20px;
}

.dialog-content h4 {
  color: #333;
  margin: 20px 0 10px 0;
  font-size: 16px;
  font-weight: 600;
}

.dialog-content p {
  margin: 10px 0;
  color: #666;
}

.dialog-content ul {
  margin: 10px 0;
  padding-left: 20px;
}

.dialog-content li {
  margin: 8px 0;
  color: #555;
}

.contact-item {
  background: #f8f9fa;
  padding: 15px;
  margin: 10px 0;
  border-radius: 8px;
  border-left: 4px solid #2062ea;
}

.contact-item h4 {
  margin: 0 0 8px 0;
  color: #2062ea;
}

.contact-item p {
  margin: 4px 0;
  color: #555;
}

.feedback-tips {
  background: #f0f7ff;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
  border: 1px solid #d4edda;
}

.feedback-tips h4 {
  color: #0066cc;
  margin: 0 0 10px 0;
}

.feedback-tips ul {
  margin: 0;
  padding-left: 20px;
}

.feedback-tips li {
  margin: 5px 0;
  color: #555;
}

.dialog-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

</style>
